# В данном репозитории расположены файлы приложения (app - Web-calculator) проекта Лодиса Артема (выпускника курса DevOps школы TeachMeSkills)

## Обзор

- В репозитории `calc_app` расположены скрипты приложения Web-calculator, написанного на языке программирования `python` и размещен `Dockerfile` для сборки image и развертывания данного приложения в контейнере
- В репозитории `k8s-manifest` размещен manifest, который создает объект `deployment` в K8s cluster
- В репозитории `jenkins` размещен файл `Jenkinsfile` и репозиторий с файлом для запуска agent
- Краткое описание stage `Jenkinsfile`:
  - в блоке agent прописано, что использовать в рамках текущего проекта agent который запускается из `Dockerfile.build` директории `image`
  - в stages `Build`, `Linter check`, `Test` описаны процессы создания image измененного app, проверка его линтером python `flake8`, и осуществляется тестирование кода написанными разработчиками тестами по средствам `pytest` соответственно
  - в stages `Create image`, `Push image` описаны процессы создания image app, отправка его в GitHub packages репозитория и уведомления по эл. почте mail.ru, при этом перед запуском stage `Create image` принудительно, останавливается процес CI в целях проверки администратором проведенной ранее проверки линтером python `flake8` написанного (измененного) кода и прошедшего тестирования `pytest`
  - в stage `Deploy` описан процесс развертывания объекта `deployment` в K8s cluster из измененного и одобренного image, при этом соблюдено условие, что данный stage выполняется только при коммите, слиянии branch в основную ветку (master/main) GitHub репозитория с приложением, а также отправляется уведомление на эл. почту mail.ru о выполнении

## Требования

- Для работы с данным репозиторием и внесением правок в код приложения, чтобы полностью выполнялся процесс CI/CD необходимо развернуть инфраструктуру приложения, по инструкции указанной в репозитории - `https://github.com/lodisav-devops/project`
